!function(){function t(i,e,n){function c(r,a){if(!e[r]){if(!i[r]){var s="function"==typeof require&&require;if(!a&&s)return s(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=e[r]={exports:{}};i[r][0].call(d.exports,function(t){var e=i[r][1][t];return c(e||t)},d,d.exports,t,i,e,n)}return e[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)c(n[r]);return c}return t}()({1:[function(t,i,e){"use strict";e.__esModule=!0,e["default"]={el:"",city_id:"",width:"",height:"",style:"",type:"",className:"",clickCity:"",cancel:"",componentLoadedCb:"",selCityCb:"",changeCb:""}},{}],2:[function(t,i,e){"use strict";i.exports={set:function(){var t=document.createElement("style");t.innerHTML='.yccmp-city {\n            box-sizing: border-box;\n            width: 400px;\n            height: 482px;\n            background: #FFFFFF;\n            border: 1px solid #CCCCCC;\n            box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n            position: relative;\n            user-select: none;\n          }\n          .yccmp-city .yccmp-city-con {\n            height: 423px;\n            padding: 0 20px;\n            overflow: hidden;\n            overflow-y: auto;\n          }\n          .yccmp-city .yccmp-city-con-list {\n            list-style: none;\n          }\n          .yccmp-city .yccmp-city-con-list > li {\n            padding-left: 28px;\n            border-bottom: 1px solid #f0f0f0;\n            position: relative;\n          }\n          .yccmp-city .yccmp-city-con-list > li:last-child {\n            border-bottom: 0;\n          }\n          .yccmp-city .yccmp-city-con-list dl {\n            width: 100%;\n            list-style: none;\n          }\n          .yccmp-city .yccmp-city-con-list dt {\n            list-style: none;\n            float: left;\n            font-family: Arial;\n            font-weight: bold;\n            margin-left: -28px;\n            margin-top: 9px;\n            line-height: 20px;\n            font-size: 16px;\n          }\n          .yccmp-city .yccmp-city-con-list dt span {\n            font-size: 14px;\n            color: #333;\n            letter-spacing: 0;\n          }\n          .yccmp-city .yccmp-city-con-list dt span.yccmp-city-municipality {\n            color: #4284D9;\n          }\n          .yccmp-city .yccmp-city-con-list dd {\n            list-style: none;\n            margin-right: 18px;\n            float: left;\n            height: 40px;\n          }\n          .yccmp-city .yccmp-city-con-list dd:last-child {\n            margin-right: 0;\n          }\n          .yccmp-city .yccmp-city-con-list dd .yccmp-city-link {\n            margin-right: 0;\n          }\n          .yccmp-city .yccmp-city-con-list dd span {\n            font-size: 14px;\n            box-sizing: border-box;\n            display: block;\n            color: #333333;\n            text-align: center;\n            line-height: 40px;\n            height: 40px;\n            cursor: pointer;\n          }\n          .yccmp-city .yccmp-city-con-list dd span:hover {\n            color: #FF4F53;\n          }\n          .yccmp-city .yccmp-city-con-list dd span.yccmp-city-active,\n          .yccmp-city .yccmp-city-con-list dd span.yccmp-province-active {\n            color: #FF4F53;\n            border-bottom: 2px solid #FF4F53;\n          }\n          .yccmp-city .yccmp-city-con-list dd span.yccmp-city-active.yccmp-city-link {\n            color: #FF4F53;\n            border-bottom: 0;\n          }\n          .yccmp-city .yccmp-city-seach-container {\n            float: left;\n            margin-right: 15px;\n            position: relative;\n          }\n          .yccmp-city .yccmp-city-seach-container input {\n            border: 1px solid #E1E1E1;\n            border-radius: 4px;\n            width: 180px;\n            height: 30px;\n            text-indent: 10px;\n            font-size: 14px;\n            line-height: 30px;\n          }\n          .yccmp-city .yccmp-city-nearly-list {\n            float: left;\n            width: 180px;\n            height: 36px;\n          }\n          .yccmp-city .yccmp-city-nearly-list .yccmp-city-nearly-wrap {\n            white-space: nowrap;\n            overflow-x: scroll;\n          }\n          .yccmp-city .yccmp-city-top {\n            box-sizing: border-box;\n            padding: 10px;\n            background: #F7F7F7;\n            border-bottom: 1px solid #ccc;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            line-height: 0;\n            font-size: 14px;\n          }\n          .yccmp-city .yccmp-city-top .yccmp-city-link {\n            margin-right: 15px;\n          }\n          .yccmp-city .yccmp-nearly-list {\n            float: left;\n          }\n          .yccmp-city .yccmp-city-list {\n            background: #F7F7F7;\n            margin-left: -55px;\n            margin-right: -20px;\n            padding-left: 55px;\n            padding-right: 10px;\n            line-height: 36px;\n            font-size: 14px;\n          }\n          .yccmp-city .yccmp-city-link {\n            font-size: 14px;\n            color: #333333;\n            display: inline-block;\n            margin-right: 18px;\n            line-height: 36px;\n            text-decoration: none;\n          }\n          .yccmp-city .yccmp-city-link:last-child {\n            margin-right: 0;\n          }\n          .yccmp-city .yccmp-city-link.yccmp-city-active {\n            color: #FF4F53;\n          }\n          .yccmp-city .yccmp-city-link:hover {\n            color: #FF4F53;\n          }\n          .yccmp-city .yccmp-city-filter-container {\n            display: none;\n            box-sizing: border-box;\n            position: absolute;\n            z-index: 100;\n            width: 100%;\n            padding: 0 20px;\n            top: 56px;\n            background: #fff;\n            overflow-y: scroll;\n          }\n          .yccmp-city .yccmp-city-filter-container .yccmp-city-link {\n            display: block;\n            border-bottom: 1px solid #f0f0f0;\n            height: 40px;\n            line-height: 40px;\n          }\n          .yccmp-city .yccmp-city-s-fl {\n            float: left;\n          }\n          .yccmp-city .yccmp-city-s-fr {\n            float: right;\n          }\n          .yccmp-city .yccmp-city-s-clearfix:after,\n          .yccmp-city .yccmp-city-s-clearfix:before {\n            content: "";\n            visibility: hidden;\n            display: block;\n          }\n          .yccmp-city .yccmp-city-s-clearfix:after {\n            clear: both;\n          }\n          .yc-cascader {\n            margin-top: 3px;\n            border: 1px solid #ccc;\n            height: 360px;\n            width: 110px;\n            overflow: hidden;\n            box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.2);\n            display: none;\n            position: relative;\n            background: #fff;\n          }\n          .yc-cascader_block {\n            display: inline-block;\n            position: absolute;\n            height: 360px;\n            width: 108px;\n            overflow-y: auto;\n            overflow-x: hidden;\n          }\n\n          .yc-cascader_block::-webkit-scrollbar {\n            width: 5px;\n            height: 1px;\n          }\n          .yc-cascader_block::-webkit-scrollbar-thumb {\n            border-radius: 10px;\n            -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.1);\n            background: #eee;\n          }\n          .yc-cascader_block::-webkit-scrollbar-track {\n            -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.1);\n            border-radius: 10px;\n            background: #fff;\n          }\n\n          .yc-cascader_block-item {\n            cursor: pointer;\n            width: 110px;\n            height: 32px;\n            line-height: 32px;\n            padding: 0 10px;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n            color: #333;\n            font-size: 14px;\n          }\n          .yc-cascader_block-item:hover,\n          .yc-cascader_block-item.selected {\n            background: #f7f7f7;\n            color: #ff4f53;\n          }\n          .yc-cascader_first {\n            left: 0;\n            top: 0;\n          }\n          .yc-cascader_second {\n            left: 108px;\n            top: 0;\n            display: none;\n            border-left: 1px solid #e1e1e1;\n          }\n          .yc-city-container {\n            position: absolute;\n            left: -50px;\n            top: 100%;\n            width: 465px;\n            padding: 10px;\n            margin-bottom: 10px;\n            border: 1px solid #d9d9d9;\n            background: #fff;\n            z-index: 51;\n            overflow-x: hidden;\n            overflow-y: auto;\n            box-shadow: 0 0 5px #aaa;\n            display: none;\n          }\n          .yc-city-item {\n            float: left;\n            height: 30px;\n            line-height: 30px;\n            font-size: 14px;\n            width: 109px;\n            white-space: nowrap;\n            overflow: hidden;\n          }\n          .yc-city-item span {\n            padding: 0 10px;\n            cursor: pointer;\n            display: inline-block;\n          }\n          .yc-city-item span:hover {\n            background: #e8eff6;\n            color: #333;\n          }\n          .yc-city-item span.current {\n            background: #FF4F53;\n            color: #fff;\n            border-radius: 3px;\n          }\n          ',document.head.appendChild(t)}}},{}],3:[function(t,i,e){"use strict";e.__esModule=!0,e["default"]={render:function(t,i){var e=t.map(function(t){return t.shortName}).join("").length,n=e>9?"yccmp-city-nearly-wrap":"";return'\n        <div class="yccmp-city" style="display: none;">\n\n        <div class="yccmp-city-top yccmp-city-s-clearfix">\n            <div class="yccmp-city-seach-container">\n            <input placeholder="请输入城市名" autocomplete="off" class="yccmp-cityFilter" type="text" />\n            </div>\n            <div class="yccmp-city-nearly-list">\n            <div class="'+n+'">\n                '+this.createCityListTpl(t,"near")+'\n            </div>\n            </div>\n        </div>\n\n        <div class="yccmp-city-filter-container">\n        </div>\n\n        <div class="yccmp-city-con">\n            <ul class="yccmp-city-con-list">\n            '+i.map(function(t,i){return'<li class="yccmp-city-area-container">\n                <dl class="yccmp-city-s-clearfix">\n                    <dt>\n                    <span class="'+(0===i?"yccmp-city-municipality":"")+'">'+t.initial+"</span>\n                    </dt>\n                    "+t.children.map(function(t){return'<dd>\n                            <span class="'+(0===i?"yccmp-city-link":"yccmp-city-province-link")+'" data-parentid="'+t.parentId+'" data-id="'+t.cityId+'" data-type="'+(0===i?"municipality":"province")+'">'+t.cityName+"</span>\n                        </dd>"}).join("")+"\n                </dl>\n                </li>"}).join("")+"\n            </ul>\n        </div>\n\n        </div>\n        "},createCityListTpl:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""+t.map(function(t){return'<a href="javascript:;" data-type="'+i+'" data-id="'+t.cityId+'" class="yccmp-city-link">'+(t.shortName||t.cityName)+"</a>"}).join("")},genCascader:function(t,i,e){var n="";return t.forEach(function(t,i){n+='<div class="yc-cascader_block-item yc-cascader_first-item" data-idx='+i+">"+t.cityName+"</div>"}),'\n      <div class="yc-cascader '+(i||"")+'" >\n        <div class="yc-cascader_block yc-cascader_first">'+n+'</div>\n        <div class="yc-cascader_block yc-cascader_second"></div>\n      </div>\n    '},genCascaderSec:function(t,i){var e="";return t.forEach(function(t,i){e+='<div class="yc-cascader_second-item yc-cascader_block-item" data-cindex='+i+' title="'+t.cityName+'">'+t.cityName+"</div>"}),e},getProvinceHtml:function(t,i,e){var n="";return t.forEach(function(t,i){var c=e.cityId?e.cityId==t.cityId?"current":"":0===i?"current":"";n+='<div class="yc-city-item">\n            <span class="yc-city-target '+c+'" data-id='+t.cityId+">"+t.cityName+"</span>\n          </div>"}),'\n          <div class="yc-city-container '+(i||"")+'" >\n            '+n+"\n          </div>\n        "},getCityHtml:function(t,i,e){var n="";return t.forEach(function(t,i){var c=e.cityId?e.cityId==t.cityId?"current":"":0===i?"current":"";n+='<div class="yc-city-item" >\n            <span class="yc-city-target '+c+'" data-id='+t.cityId+">"+t.cityName+"</span>\n          </div>"}),'\n          <div class="yc-city-container '+(i||"")+'" >\n            '+n+"\n          </div>\n        "}}},{}],4:[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function c(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,i){var e=[],n=!0,c=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(e.push(r.value),!i||e.length!==i);n=!0);}catch(s){c=!0,o=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(c)throw o}}return e}return function(i,e){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return t(i,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t("./utils/ie8-polyfill"),t("./utils/domTools");var r=t("./component/style"),a=n(r),s=t("./views/defaultTel"),l=n(s),d=t("./views/provinceTel"),y=n(d),h=t("./views/cityTel"),f=n(h),p=t("./views/cascaderTel"),u=n(p),m=t("./component/config"),v=n(m),g=t("./utils");!function(){var t,e=function(){function t(i){return c(this,t),i.el?(a["default"].set(),i.cityId=i.city_id||("city"==i.type?"2":"201"),this.config=(0,g.extend)({},v["default"],i),this.baseUrl=i.baseUrl||"//mapi.yiche.com/web_api",this.context=null,this.errTimes=1,void this.init()):console.warn("出错了，缺少参数el")}return t.prototype.init=function(){this.initType(),this.initData()},t.prototype.initType=function(){switch(this.config.type){case"cascader":this.context=(0,g.deepClone)(u["default"]);break;case"province":this.context=(0,g.deepClone)(y["default"]);break;case"city":this.context=(0,g.deepClone)(f["default"]);break;default:this.context=(0,g.deepClone)(l["default"])}},t.prototype.clearProto=function(){var t=Object.getPrototypeOf(this);t.unRequest=void 0,t.sourceData=void 0},t.prototype.initData=function(){var t=this,i=Object.getPrototypeOf(this);i?(i.allExample||(i.allExample=[]),i.allExample.indexOf(this)==-1&&i.allExample.push(this),i.unRequest?i.sourceData&&this.update(i.sourceData):(this.addEvent(window,"load",function(){t.getCityData()}),i.unRequest=!0)):console.warn("浏览器版本过低，请升级浏览器版本后重试")},t.prototype.all=function(t,i,e){for(var n=0,c=[],o=0;o<t.length;o++)!function(o){var r=t[o],a=function(e){c[o]=e,n++,n==t.length&&i&&i(c)};"function"==typeof r&&r(function(t){a(t)},function(t){a(t),e&&e(t)})}(o)},t.prototype.getCityData=function(){var t=this,i=[this.getAreaData.bind(this)];this.config.type||i.push(this.getNearData.bind(this));var e=Object.getPrototypeOf(this);this.all(i,function(t){e.sourceData=t,Array.isArray(e.allExample)&&e.allExample.forEach(function(i){i.update(t)})},function(i){t.errTimes>0&&(t.errTimes--,t.clearProto(),t.initData())})},t.prototype.getAreaData=function(t,i){yicheUtils.yicheAxios.apiGetData({url:this.baseUrl+"/web_app/api/v1/city/get_area_list",headers:{"x-platform":"pc"}},function(e){e&&1==e.status&&e.data&&e.data.list?t&&t(e):i&&i(e)})},t.prototype.getNearData=function(t,i){yicheUtils.yicheAxios.apiGetData({url:this.baseUrl+"/web_app/api/v1/city/get_near_by",headers:{"x-platform":"pc"},data:{cityId:this.config.cityId,size:4}},function(e){e&&1==e.status&&e.data&&e.data.list?t&&t(e):i&&i(e)})},t.prototype.update=function(t){var i=this,e=this.formatResult(t),n=o(e,2),c=n[0],r=n[1];this.config.needCountry&&c.unshift({CityId:-1,CityLevel:0,CityName:"全国",EngName:"quanguo",Initial:"",ParentId:0}),this.context&&this.context.init&&this.context.init({config:this.config,areaList:c,nearList:r}),"function"==typeof this.config.onRequestLoad&&this.config.onRequestLoad(c,r);var a=this.config.cityId,s=yicheUtils.getCookie("selectcityid")||this.config.cityId;c.forEach(function(t){t.CityId==s&&i.config.getCityInfo&&i.config.getCityInfo(t),t.CityId==a&&i.config.getCityInfoByConfig&&i.config.getCityInfoByConfig(t)})},t.prototype.formatResult=function(t){if(Array.isArray(t)){var i=this.formatList(t[0]),e=this.formatList(t[1]);return[i,e]}},t.prototype.formatList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=[];return 1==t.status&&t.data&&t.data.list&&(i=t.data.list),i},t.prototype.show=function(t){this.context&&this.context.show&&this.context.show(t)},t.prototype.hide=function(){this.context&&this.context.hide&&this.context.hide()},t.prototype.addEvent=function(t,i,e){t.addEventListener?("on"===i.slice(0,2)&&(i=i.slice(2)),t.addEventListener(i,e)):t.attachEvent?("on"!==i.slice(0,2)&&(i="on"+i),t.attachEvent(i,e)):"on"!==i.slice(0,2)?t["on"+i]=e:t[i]=e},t}();t=function(){return this||(0,eval)("this")}(),!("City"in t)&&(t.City=e),"undefined"!=typeof i&&i.exports?i.exports=e:"function"==typeof define&&define.amd&&define(function(){return e})}()},{"./component/config":1,"./component/style":2,"./utils":7,"./utils/domTools":5,"./utils/ie8-polyfill":6,"./views/cascaderTel":8,"./views/cityTel":9,"./views/defaultTel":10,"./views/provinceTel":11}],5:[function(t,i,e){"use strict";function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=new RegExp(/^\s+|\s+$/);return t&&t.replace&&t.replace(i,"")}function c(t,i){var e=Array.prototype.slice.call(i,0),n=e.filter(function(i){return i==t});return!!n.length}function o(t){return"function"==typeof t}var r=t("./index"),a={_addClass:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=""==this.className?"":" ";if(/\s/.test(n(i))){var c=i.split(" ");c.forEach(function(i){a._addClass.call(t,i)})}else this._hasClass(i)||(this.className=n(this.className+e+i))},_hasClass:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},_removeClass:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(/\s/.test(n(i))){var e=i.split(" ");e.forEach(function(i){a._removeClass.call(t,i)})}else if(this._hasClass(i)){var c=new RegExp("(\\s|^)"+i+"(\\s|$)");this.className=n(this.className.replace(c," "))}},_toggleClass:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(/\s/.test(n(i))){var e=i.split(" ");e.forEach(function(i){a._toggleClass.call(t,i)})}else this._hasClass(i)?this._removeClass(i):this._addClass(i)},_classNameParse:function(){var t=[];return this.className&&(t=this.className.split(/\s+/).filter(function(t){var i=n(t);if(i)return i})),t},_setStyle:function(t){var i=this;if(!i)throw new Error("_setStyle：没有找到元素");for(var e in t)this.style[e]=t[e]},_getAttributes:function(t){t=t||this;for(var i={},e=t.attributes,n=0,c=e.length;n<c;n++){var o=e[n];if(o){var r=o.nodeName,a=o.nodeValue;o.specified&&(i[r]=a)}}return i},_html:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments[1],e=this;if(!e)throw new Error("_html：没有找到需要删除的元素");i?e.innerHTML=e.innerHTML+t:e.innerHTML=t},_remove:function(t){var i=this||t;if(!i)throw new Error("_remove：没有找到需要删除的元素");i.parentNode&&i.parentNode.removeChild?i.parentNode.removeChild(i):console.warn("_remove: 删除dom失败")},_parents:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=this;if(!i)throw new Error("_parents：未找到目标元素");var e=null;if(t)for(var n=i.parentNode,o=document.querySelectorAll(t);n;){if(c(n,o)){e=n;break}n=n.parentNode}else e=i.parentNode;return e},_data:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments[1],e=this;if(!e)throw new Error("_data：没有找到目标元素");var n=null,c="data-"+t;return i?o(e.setAttribute)&&(n=e.setAttribute(c,i)):o(e.getAttribute)&&(n=e.getAttribute(c)),n},_find:function(t){if(!t)throw new Error("find：缺少参数");if("string"!=typeof t)throw new Error("find：参数错误");var i=this;if(!i)throw new Error("_find：没有找到目标元素");return i.querySelector(t)},_findAll:function(t){if(!t)throw new Error("find：缺少参数");if("string"!=typeof t)throw new Error("find：参数错误");var i=this||document;return o(i.querySelectorAll)&&i.querySelectorAll(t)},_on:function(t,i,e){if(!t||!i)throw new Error("事件缺少参数");if("string"!=typeof t)throw new Error("事件名称必须是字符串");if(e&&"function"!=typeof e)throw new Error("callback必须是函数");var n=this||document;"string"==typeof i?a._addEvent(n,t,function(t){var t=t||window.event,o=t.target||t.srcElement,a=n.querySelectorAll(i);if(c(o,a))e.call(o,t),t.stopPropagation();else for(var s=o.parentNode;s&&s!==n;){if(c(s,a)){e.call(s,(0,r.extend)(t,{target:s,srcElement:s})),t.stopPropagation();break}s=s.parentNode}}):"function"==typeof i&&a._addEvent(n,t,function(t){i.call(n,t)})},_addEvent:function(t,i,e){var n=t||document;n.addEventListener?n.addEventListener(i,e,!1):n.attachEvent("on"+i,function(){e.call(n,arguments)})},_show:function(){var t=this;return a._setStyle.call(t,{display:"block"}),t},_hide:function(){var t=this;return a._setStyle.call(t,{display:"none"}),t},_toggle:function(){var t=this;if(t.style){var i="block"==t.style.display;t.style.display=i?"none":"block"}},_attr:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t&&o(this.setAttribute)&&this.setAttribute(t,i)},_replaceWith:function(t){var i="string"==typeof t?a._str2dom(t):t;this.parentNode&&o(this.parentNode.replaceChild)&&this.parentNode.replaceChild(i,this)},_appendChild:function(t){var i="string"==typeof t?a._str2dom(t):t;o(this.appendChild)&&this.appendChild(i)},_before:function(t){var i="string"==typeof t?a._str2dom(t):t;this.parentNode&&o(this.parentNode.insertBefore)&&this.parentNode.insertBefore(i,this)},_prepend:function(t){var i="string"==typeof t?a._str2dom(t):t;o(this.insertBefore)&&this.insertBefore(i,this.firstChild)},_str2dom:function(t){var i=new DOMParser,e=i.parseFromString(t,"text/html"),n=null;if(e&&e.body){var c=Array.prototype.slice.call(e.body.children,0);if(c&&c.length>1){n=document.createDocumentFragment();for(var o=0;o<c.length;o++)n.appendChild(c[o])}else n=c[0]}return n}};for(var s in a){var l=a[s],d=HTMLElement.prototype;Object.defineProperty?d[s]||Object.defineProperty(d,s,{value:l}):d[s]=l}},{"./index":7}],6:[function(t,i,e){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var i=this.length>>>0,e=Number(arguments[1])||0;for(e=e<0?Math.ceil(e):Math.floor(e),e<0&&(e+=i);e<i;e++)if(e in this&&this[e]===t)return e;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,i){var e,n;if(null==this)throw new TypeError("this is null or not defined");var c=Object(this),o=c.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=i),n=0;n<o;){var r;n in c&&(r=c[n],t.call(e,r,n,c)),n++}}),Array.prototype.map||(Array.prototype.map=function(t){var i,e,n;if(null==this)throw new TypeError("this is null or not defined");var c=Object(this),o=c.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(i=arguments[1]),e=new Array(o),n=0;n<o;){var r,a;n in c&&(r=c[n],a=t.call(i,r,n,c),e[n]=a),n++}return e}),Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var i=Object(this),e=i.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=[],c=arguments[1],o=0;o<e;o++)if(o in i){var r=i[o];t.call(c,r,o,i)&&n.push(r)}return n}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var i=Array.prototype.slice.call(arguments,1),e=this,n=function(){},c=function(){return e.apply(this instanceof n&&t?this:t,i.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,c.prototype=new n,c})},{}],7:[function(t,i,e){"use strict";function n(t){var i=t.constructor===Array?[]:{};for(var e in t)t.hasOwnProperty(e)&&(t[e]&&"object"===r(t[e])?i[e]=n(t[e]):i[e]=t[e]);return i}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};for(var e in t)if(t.hasOwnProperty(e)){var n=t[e],c=e.substr(0,1).toLowerCase()+e.substr(1);i[c]=n}return i}function o(){var t=Array.prototype.slice.call(arguments,0),i=t.shift();if("object"!=("undefined"==typeof i?"undefined":r(i))&&(i={}),t&&t.length)for(var e=0;e<t.length;e++){var n=t[e];if("object"==("undefined"==typeof n?"undefined":r(n)))for(var c in n)i[c]=n[c]}return i}e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.keyLower=c,e.extend=o,e.deepClone=n},{}],8:[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var c=t("../utils"),o=t("../component/template"),r=n(o);e["default"]={init:function(t){var i=t.config,e=t.areaList;return this.config=i,this.cityId=i.cityId,this.domEl=document.querySelector(this.config.el),this.domEl?(this.aBlackList=["香港","台湾","澳门"],this.area_list=this.formatCityData(e)||[],this.createTel(),void(this.selCasParentIdx=null)):console.warn("未获取到el元素")},formatCityData:function(t){for(var i=this,e=[],n=0;n<t.length;n++){var o=t[n];if(!(this.aBlackList.indexOf(o.CityName)>-1)&&0===o.CityLevel){if(0!==o.ParentId)continue;o.children||(o.children=[]),e.push(o)}}for(var r=function(n){var o=t[n];return i.aBlackList.indexOf(o.CityName)>-1?"continue":void(1!==o.CityLevel&&2!==o.CityLevel&&3!==o.CityLevel||e.forEach(function(t){t.CityId===o.ParentId&&t.children.push((0,c.keyLower)(o))}))},a=0;a<t.length;a++){r(a)}return e.forEach(function(t){for(var i={},e=0;e<t.children.length;e++){var n=t.children[e];i[n.cityId]=n}var c=[];for(var o in i)c.push(i[o]);t.children=c}),e.sort(function(t,i){var e=t.Initial&&t.Initial.charCodeAt(),n=i.Initial&&i.Initial.charCodeAt();return e-n}),e.map(function(t){return(0,c.keyLower)(t)})},createTel:function(){this.domEl.innerHTML=r["default"].genCascader(this.area_list,this.className,this.config),this.bindEvent(),this.initDom(),this.config.componentLoadedCb&&this.config.componentLoadedCb.call(this,this)},bindEvent:function(){var t=this;this.domEl._on("click",".yc-cascader_first-item",function(i){var e=t.selCasParentIdx=this._data("idx");if(0===e)return null;var n=t.domEl.querySelector(".selected");n&&n._removeClass("selected"),this._addClass("selected");var c=t.area_list[e]||{};if(c.children&&c.children.length>0){var o=t.domEl.querySelector(".yc-cascader_second");o.innerHTML=r["default"].genCascaderSec(c.children,t.config),t.domEl.querySelector(".yc-cascader")._setStyle({width:"219px"}),o._show()}else t.runCallback(c);return t.config.clickProvince&&t.config.clickProvince(c),i.stopPropagation(),i.preventDefault(),!1}),this.domEl._on("click",".yc-cascader_second-item",function(i){var e=this._data("cindex");if(0===e||0===t.selCasParentIdx)return null;var n=t.area_list[t.selCasParentIdx].children[e];return t.runCallback(n),i.stopPropagation(),i.preventDefault(),!1})},initDom:function(){var t=this.domEl.querySelector(".yc-cascader"),i={},e=this.config.style;e&&"[object Object]"==Object.prototype.toString.call(e)&&(i=(0,c.extend)(i,e)),this.config.width&&(i.width=this.config.width+"px"),this.config.height&&(i.height=this.config.height+"px"),t&&t._setStyle(i)},runCallback:function(t){var i=this;this.config.selCityCb&&this.config.selCityCb(t),this.config.changeCb&&this.config.changeCb(t),this.config.clickCity&&this.config.clickCity(t),setTimeout(function(){i.hide()},100)},show:function(t){if(this.domEl){var i=this.domEl.querySelector(".yc-cascader");i&&i._show(),this.config.show&&this.config.show(this)}else console.warn("show:城市数据错误")},hide:function(){if(this.domEl){var t=this.domEl.querySelector(".yc-cascader"),i=this.domEl.querySelector(".yc-cascader_second"),e=this.domEl.querySelector(".selected");i&&i._hide(),t&&t._setStyle({width:"110px",display:"none"}),e&&e._removeClass("selected"),this.selCasParentIdx=void 0,this.config.hide&&this.config.hide(this)}else console.warn("hide:城市数据错误")}}},{"../component/template":3,"../utils":7}],9:[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var c=t("../utils"),o=t("../component/template"),r=n(o);e["default"]={init:function(t){var i=t.config,e=t.areaList;return this.config=i,this.cityId=i.cityId,this.domEl=document.querySelector(this.config.el),this.domEl?(this.aAreaList=[],this.formatCityData(e),void this.createTel()):console.warn("未获取到el元素")},formatCityData:function(t){for(var i=[],e=0;e<t.length;e++){var n=t[e];n.ParentId==this.cityId&&i.push((0,c.keyLower)(n))}this.aAreaList=i},createTel:function(){this.domEl.innerHTML=r["default"].getCityHtml(this.aAreaList,this.className,this.config),this.bindEvent(),this.initDom(),this.config.componentLoadedCb&&this.config.componentLoadedCb.call(this,this)},bindEvent:function(){var t=this;this.domEl._on("click",".yc-city-target",function(i){var e=t.domEl._find(".current");e&&e._removeClass("current"),this._addClass("current");var n=this._data("id"),c=t.aAreaList.filter(function(t){return t.cityId==n})[0];t.config.clickCity?t.config.clickCity(c):t.changeCityCb(n),i.stopPropagation(),i.preventDefault()})},initDom:function(){var t=this.domEl.querySelector(".yc-city-container"),i={},e=this.config.style;e&&"[object Object]"==Object.prototype.toString.call(e)&&(i=(0,c.extend)(i,e)),this.config.width&&(i.width=this.config.width+"px"),this.config.height&&(i.height=this.config.height+"px"),t&&t._setStyle(i)},changeCityCb:function(t){var i=this,e=this;yicheUtils.yicheAxios.apiGetData({url:"/web_api/web_app/api/v1/city/multi_get_city_info",data:{cityIds:t}},function(t){if(t&&1==t.status&&t.data&&t.data.length){var n="undefined"!=typeof encodeURIComponent?encodeURIComponent(c.shortName):c.shortName,c=t.data[0];e.setCookie("selectcity",c.regionId),e.setCookie("selectcityid",c.cityId),e.setCookie("selectcityName",c.shortName),e.setCookie("selectcityNameEn",n),e.setCookie("selectcityPinyin",c.cityPinyin),e.config.changeCb?e.config.changeCb(c):i.config.clickCityRequested?e.config.clickCityRequested(c):setTimeout(function(){window.location.reload()},200)}})},setCookie:function(t,i){yicheUtils.setCookie(t,i,new Date(2222,2,2),document.domain.split(".").slice(-2).join("."),"/")},show:function(){if(this.domEl&&this.aAreaList.length){var t=this.domEl.querySelector(".yc-city-container");t&&t._show(),this.config.show&&this.config.show(this)}else console.warn("show:城市数据错误")},hide:function(){if(this.domEl){var t=this.domEl.querySelector(".yc-city-container");t&&t._hide(),this.config.hide&&this.config.hide(this)}else console.warn("hide:城市数据错误")}}},{"../component/template":3,"../utils":7}],10:[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var c=t("../utils"),o=t("../component/template"),r=n(o);e["default"]={init:function(t){var i=t.config,e=t.areaList,n=t.nearList;return this.config=i,this.cityId=i.cityId,this.area_list=e,this.domEl=document.querySelector(this.config.el),this.domEl?(this.show_search=!this.config.hasOwnProperty("show_search")||this.config.show_search,this.show_near=!this.config.hasOwnProperty("show_near")||this.config.show_near,this.aAreaList=[],this.aFilterList=[],this.aNearList=[],this.aMunicipality=[],this.aMunicipalName=["北京","上海","重庆","天津"],this.aBlackList=["香港","台湾","澳门"],this.formatCityData(e,n),void this.createTel()):console.warn("未获取到el元素")},formatCityData:function(t,i){for(var e=this.aMunicipalName,n=this.aBlackList,c=[],o=[],r=i,a={},s=[],l=0;l<t.length;l++){
var d=t[l];for(var y in d)if(d.hasOwnProperty(y)){var h=d[y],f=y.substr(0,1).toLowerCase()+y.substr(1);d[f]=h}0===d.cityLevel&&0!==d.parentId||n.indexOf(d.cityName)>-1||(d.cityName&&e.indexOf(d.cityName.slice(0,2))>-1?1===d.cityLevel&&(s.push(d),o.push(d)):(d.children||0!==d.cityLevel||(d.children=[]),a[d.initial]||0!==d.cityLevel?a[d.initial]&&0===d.cityLevel?c.filter(function(t){return t.initial===d.initial})[0].children.push(d):1!==d.cityLevel&&2!==d.cityLevel&&3!==d.cityLevel||(o.push(d),c.forEach(function(t){t.children.forEach(function(t){t.cityId===d.parentId&&t.children.push(d)})})):(a[d.initial]=d.initial,c.push({initial:d.initial,children:[d]}))))}c.sort(function(t,i){var e=t.Initial&&t.Initial.charCodeAt(),n=i.Initial&&i.Initial.charCodeAt();return e-n}),c.unshift({initial:"直",children:s});for(var p=0;p<r.length;p++){var u=r[p];u.cityName=u.shortName,u.engName=u.cityPinyin}this.aNearList=r,this.aAreaList=c,this.aFilterList=o,this.aMunicipality=s},createTel:function(){if(this.aAreaList.length){var t=this.domEl.querySelector(".yccmp-city");t&&t._remove(),this.domEl.innerHTML=r["default"].render(this.aNearList,this.aAreaList),this.initDom(),this.bindEvent(),this.config.componentLoadedCb&&this.config.componentLoadedCb.call(this,this)}else console.warn("未获取到城市数据")},initDom:function(){var t=this.domCity=this.domEl.querySelector(".yccmp-city");if(t){var i={},e=this.config.style;if(e&&"[object Object]"==Object.prototype.toString.call(e)&&(i=(0,c.extend)(i,e)),this.config.width&&(i.width=this.config.width),this.config.height&&(i.height=this.config.height),i.height){var n=t.querySelector(".yccmp-city-con");n&&n._setStyle({height:i.height})}if(t._setStyle(i),!this.show_search){var o=t.querySelector(".yccmp-city-seach-container");o&&o._hide()}if(!this.show_near){var r=t.querySelector(".yccmp-city-nearly-list");r&&r._hide()}if(!this.show_search&&!this.show_near){var a=t.querySelector(".yccmp-city-top");a&&a._hide()}}},bindEvent:function(){var t=this,i=this.domCity;if(i){i._on("click",".yccmp-city-province-link",function(i){t.clearDefStyle(),t.setCityActive(this);var e=this._data("id"),n=t.area_list.filter(function(t){return t.cityId==e})[0]||{};if(e==-1)t.config.clickProvince&&t.config.clickProvince(n),t.config.clickCity?t.config.clickCity(n):t.changeCityCb(e,n);else{var c=t.aFilterList.filter(function(t){return t.parentId==e}),o=this._parents(".yccmp-city-area-container");t.createCityList(c,o),t.config.clickProvince&&t.config.clickProvince(n)}i.stopPropagation(),i.preventDefault()}),i._on("click",".yccmp-city-link",function(i){var e=this._data("id"),n=this._data("type")||"city",c="near"==n?t.aNearList:t.aFilterList,o=c.filter(function(t){return t.cityId==e})[0]||{};t.clearDefStyle(n),t.setCityActive(this),t.config.clickCity?t.config.clickCity(o):t.changeCityCb(e),i.stopPropagation(),i.preventDefault()});var e=i.querySelector(".yccmp-cityFilter");e.oninput=e.onpropertychange=function(){var e=this.value,n=i.querySelector(".yccmp-city-filter-container");n.innerHTML="";var c={display:"none",height:"unset"};if(e){c={display:"block",height:"424px"};var o=t.aFilterList.filter(function(t){return 0===t.engName.indexOf(e)||0===t.cityName.indexOf(e)});n._html(r["default"].createCityListTpl(o,"search"),!0)}n._setStyle(c)}}},changeCityCb:function(t,i){var e=this;t==-1?e.handleCallback({cityId:t,cityPinyin:"quanguo",regionId:"",regionName:"全国",shortName:"全国"}):yicheUtils.yicheAxios.apiGetData({url:"/web_api/web_app/api/v1/city/multi_get_city_info",data:{cityIds:t}},function(t){if(t&&1==t.status&&t.data&&t.data.length){var i=t.data[0];e.handleCallback(i)}})},handleCallback:function(t){var i="undefined"!=typeof encodeURIComponent?encodeURIComponent(t.shortName):t.shortName;this.setCookie("selectcity",t.regionId),this.setCookie("selectcityid",t.cityId),this.setCookie("selectcityName",i),this.setCookie("selectcityNameEn",i),this.setCookie("selectcityPinyin",t.cityPinyin),this.config.changeCb?this.config.changeCb(t):this.config.clickCityRequested?this.config.clickCityRequested(t):setTimeout(function(){window.location.reload()},200)},setCookie:function(t,i){yicheUtils.setCookie(t,i,new Date(2222,2,2),document.domain.split(".").slice(-2).join("."),"/")},clearDefStyle:function(t){var i=this.domCity;if("city"==t){var e=i._findAll(".yccmp-city-link");e&&e.forEach(function(t){t._removeClass("yccmp-city-active")})}else{var n=i._findAll(".yccmp-city-active");n&&n.forEach(function(t){t._removeClass("yccmp-city-active")});var c=i._find(".yccmp-city-list");c&&c._remove()}},createCityList:function(t,i){if(t.length){var e='<div class="yccmp-city-list">'+r["default"].createCityListTpl(t,"city")+"</div>",n=document.createElement("div");n.innerHTML=e,i&&i.appendChild(n)}},show:function(t){t||(t={}),t.cityId||(t.cityId=this.cityId),this.setDefaultCity(t),this.domCity?(this.domCity.style.display="block",this.config.show&&this.config.show(this)):console.warn("show:城市数据错误")},hide:function(){this.domCity?(this.domCity.style.display="none",this.config.hide&&this.config.hide(this)):console.warn("hide:城市数据错误")},setDefaultCity:function(t){var i=this.aFilterList&&this.aFilterList.filter(function(i){return i.cityId==t.cityId})[0],e=this.domCity;if(i&&i.cityId)if(this.clearDefStyle(),i.parentId){var n=this.aFilterList.filter(function(t){return t.parentId==i.parentId}),c=e.querySelector(".yccmp-city-province-link[data-id='"+i.parentId+"']"),o=c&&c._parents(".yccmp-city-area-container");this.createCityList(n,o),this.setCityActive(e.querySelector(".yccmp-city-link[data-id='"+i.cityId+"']")),this.setCityActive(c)}else this.setCityActive(e.querySelector(".yccmp-city-link[data-id='"+i.cityId+"']"))},setCityActive:function(t){t&&t._addClass("yccmp-city-active")}}},{"../component/template":3,"../utils":7}],11:[function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var c=t("../utils"),o=t("../component/template"),r=n(o);e["default"]={init:function(t){var i=t.config,e=t.areaList;return this.config=i,this.domEl=document.querySelector(this.config.el),this.domEl?(this.aNotListName=["香港","台湾","澳门"],this.aAreaList=this.formatCityData(e)||[],void this.createTel()):console.warn("未获取到el元素")},formatCityData:function(t){var i=this;return t.filter(function(t){return 0==t.CityLevel&&i.aNotListName.indexOf(t.CityName)==-1}).map(function(t){return(0,c.keyLower)(t)})},createTel:function(){this.domEl.innerHTML=r["default"].getProvinceHtml(this.aAreaList,this.className,this.config),this.bindEvent(),this.initDom(),this.config.componentLoadedCb&&this.config.componentLoadedCb.call(this,this)},initDom:function(){var t=this.domEl.querySelector(".yc-city-container"),i={},e=this.config.style;e&&"[object Object]"==Object.prototype.toString.call(e)&&(i=(0,c.extend)(i,e)),this.config.width&&(i.width=this.config.width+"px"),this.config.height&&(i.height=this.config.height+"px"),t&&t._setStyle(i)},bindEvent:function(){var t=this;this.domEl._on("click",".yc-city-target",function(i){var e=t.domEl.querySelector(".current");e&&e._removeClass("current"),this._addClass("current");var n=this._data("id"),c=t.aAreaList.filter(function(t){return t.cityId==n})[0];t.config.clickCity?t.config.clickCity(c):t.changeCityCb(n),i.stopPropagation(),i.preventDefault()})},changeCityCb:function(t){var i=this,e=this;yicheUtils.yicheAxios.apiGetData({url:"/web_api/web_app/api/v1/city/multi_get_city_info",data:{cityIds:t}},function(t){if(t&&1==t.status&&t.data&&t.data.length){var n=t.data[0],c="undefined"!=typeof encodeURIComponent?encodeURIComponent(n.shortName):n.shortName;e.setCookie("selectcity",n.regionId),e.setCookie("selectcityid",n.cityId),e.setCookie("selectcityName",n.shortName),e.setCookie("selectcityNameEn",c),e.setCookie("selectcityPinyin",n.cityPinyin),e.config.changeCb?e.config.changeCb(n):i.config.clickCityRequested?e.config.clickCityRequested(n):setTimeout(function(){window.location.reload()},200)}})},setCookie:function(t,i){yicheUtils.setCookie(t,i,new Date(2222,2,2),document.domain.split(".").slice(-2).join("."),"/")},show:function(){if(this.domEl&&this.aAreaList.length){var t=this.domEl.querySelector(".yc-city-container");t&&t._show(),this.config.show&&this.config.show(this)}else console.warn("show:城市数据错误")},hide:function(){if(this.domEl){var t=this.domEl.querySelector(".yc-city-container");t&&t._hide(),this.config.hide&&this.config.hide(this)}else console.warn("hide:城市数据错误")}}},{"../component/template":3,"../utils":7}]},{},[4]);